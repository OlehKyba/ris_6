# РІС. Практична робота №6.

## Завдання
* Налаштувати для обраної бази даних partitioning.
* Протестувати запис таким чином, що б записи збереглися в різних партиціях.


## Описання практичної роботи
1. У файлі [docker-compose.yml](./docker-compose.yml) були налаштовані контейнери
для partitioning `MongoDB`.
2. У файлі [test_bl.py](./ris_5/test/test_bl.py) був написаний тест, для перевірки коректності роботи
шардінгу. Тест завантажує [dataset](./data/dataset.csv) у БД, а потім перевріяє чи данні розподілилися по 
шардам.
3. Тести проходять у випадку, якщо обидва шарди були використані для збереження даних.
   

## Як запустити проєкт?
1. Виконати команду для збору `docker image` з кодом `python`:
```bash
make build
```
2. Запустити БД:
```bash
make run
```
3. Запустити тести:
```bash
make test
```

## Висновки
На цій практичній роботі я налаштував partitioning в `MongoDB` за допомогою технології `Docker` та `docker-compose`. 
Також я написав автоматичний тест, що перевіряє коректність роботи partitioning за допомогою мови програмування `python`.
Під час виконання практичної роботи зіштовхнувся з тим, що в MongoDB немає прямих способі перевірки коректності 
розподілу даних по шардам за допомогою драйверу `pymongo`. Для вирішення цієї задачі використав властивість команди
[listDatabases](https://www.mongodb.com/docs/manual/reference/command/listDatabases/#sharded-clusters).